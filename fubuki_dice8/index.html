<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚µã‚¤ã‚³ãƒ­9å€‹ã‚¾ãƒ­ç›®è€ä¹…ä¸¦èµ°</title>
<style>
/* ===== å…¨ä½“ ===== */
body {
    font-family: "Segoe UI","Hiragino Kaku Gothic ProN",Meiryo,sans-serif;
    margin: 0;
    padding: 20px;
    text-align: center;
    color: #eaf4ff;
    background: radial-gradient(circle at top, #1b2a4a 0%, #0a0f1f 60%);
    min-height: 100vh;
    transition: background 0.6s;
}

/* ===== ã‚¿ã‚¤ãƒˆãƒ« ===== */
h1 {
    font-size: 2rem;
    margin-bottom: 20px;
}

.neon-basic {
    color: #fff;
    text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
}

/* ===== ã‚¬ãƒ©ã‚¹å…±é€š ===== */
.panel {
    background: rgba(20,30,60,0.6);
    backdrop-filter: blur(8px);
    border-radius: 16px;
    padding: 12px;
    box-shadow:
        0 10px 30px rgba(0,0,0,0.5),
        inset 0 1px 0 rgba(255,255,255,0.1);
}

/* ===== ä¸Šæ®µ æ¨ªä¸¦ã³ ===== */
.top-row {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    gap: 12px;
    flex-wrap: nowrap;
    max-width: 100%;
    margin: 0 auto 16px;
}

/* ===== ã‚µã‚¤ã‚³ãƒ­ ===== */
.dice-panel {
    width: 280px;
}

#dice-container {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
    gap: 6px; /* ç¸¦æ¨ªåŒã˜é–“éš”ã§æ­£æ–¹å½¢ã« */
    justify-items: center;
}

.dice {
    width: 52px;
    height: 52px;
    line-height: 52px;
    font-size: 1.8rem;
    font-weight: bold;
    border-radius: 10px;
    color: #eaf4ff;
    background: linear-gradient(145deg,#1e64c8,#0a3296);
    animation: roll 0.5s;
}

.highlight {
    background: linear-gradient(145deg,#ff4040,#c80000) !important;
    animation: glow 0.8s infinite alternate;
}

/* ===== stats ===== */
.stats-panel {
    min-width: 140px;
    font-size: 0.95rem;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
}

.stats-panel p {
    margin: 4px 0;
    font-weight: bold;
    text-align: left;
}

/* ===== ãƒœã‚¿ãƒ³ ===== */
.button-row {
    display: flex;
    justify-content: center;
    gap: 10px;
    flex-wrap: wrap;
    margin-bottom: 12px;
}

button {
    font-size: 0.95rem;
    padding: 8px 14px;
    border-radius: 999px;
    border: none;
    color: #fff;
    background: linear-gradient(135deg,#4fc3f7,#7b60f4);
    cursor: pointer;
}

/* ===== å±¥æ­´ ===== */
.history-panel {
    max-width: 520px;
    margin: 12px auto 20px;
}

.history-panel ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.history-panel li {
    font-family: monospace;
    font-weight: bold;
    color: #ffffff;
    text-align: center;
    margin-bottom: 4px;
}

.history-panel li.hit {
    color: #ff4040;
}

/* ===== YouTube ===== */
.video-wrapper {
    max-width: 560px;
    aspect-ratio: 16/9;
    margin: 20px auto;
}

.video-wrapper iframe {
    width: 100%;
    height: 100%;
    border: 0;
}

/* ===== Twitter ===== */
.twitter-wrap {
    max-width: 560px;
    margin: 12px auto;
}

/* ===== ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— ===== */
.popup {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    justify-content: center;
    align-items: center;
}

.popup-content {
    background: #0f1a33;
    padding: 24px;
    border-radius: 16px;
    color: #fff;
}

/* ===== ã‚¢ãƒ‹ãƒ¡ ===== */
@keyframes roll {
    from { transform: rotate(0deg); }
    to   { transform: rotate(720deg); }
}
@keyframes glow {
    from { box-shadow: 0 0 8px rgba(255,80,80,0.6); }
    to   { box-shadow: 0 0 18px rgba(255,200,200,1); }
}

/* ===== ã‚¹ãƒãƒ› ===== */
@media (max-width: 480px) {
    .top-row {
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
    }
    .dice-panel { width: 210px; }
    #dice-container { gap: 6px; }
    .stats-panel { min-width: 140px; font-size: 0.9rem; }
    h1 { font-size: 1.5rem; line-height: 1.2em; }
    .button-row { gap: 6px; }
    button { font-size: 0.9rem; padding: 6px 10px; }
}
</style>
</head>
<body>

<h1 class="neon-basic">ğŸ²ãƒ•ãƒ–ã•ã‚“ã¨ã‚µã‚¤ã‚³ãƒ­9å€‹ã‚¾ãƒ­ç›®è€ä¹…ğŸ² v2025</h1>

<div class="top-row">
    <div class="panel dice-panel">
        <div id="dice-container"></div>
    </div>
    <div class="panel stats-panel">
        <p>è©¦è¡Œå›æ•°: <span id="roll-count">0</span></p>
        <p>5å€‹æƒã„: <span id="count-5">0</span></p>
        <p>6å€‹æƒã„: <span id="count-6">0</span></p>
        <p>7å€‹æƒã„: <span id="count-7">0</span></p>
        <p>8å€‹æƒã„: <span id="count-8">0</span></p>
        <p>9å€‹æƒã„: <span id="count-9">0</span></p>
    </div>
</div>

<div class="button-row">
    <button onclick="rollDice()">9å€‹æŒ¯ã‚‹</button>
    <button onclick="resetStats()">ãƒªã‚»ãƒƒãƒˆ</button>
    <button onclick="tweetResult()">ãƒã‚¹ãƒˆ</button>
</div>

<div class="panel history-panel">
    <h3>ğŸ²å±¥æ­´ï¼ˆç›´è¿‘10å›ï¼‰</h3>
    <ul id="history-list"></ul>
</div>

<div class="video-wrapper">
    <iframe src="https://www.youtube.com/embed/hHOgcYP8R20?rel=0" allowfullscreen></iframe>
</div>

<div class="twitter-wrap">
<blockquote class="twitter-tweet">
<p lang="ja" dir="ltr">å¹´æœ«???</p>&mdash; ç™½ä¸Šãƒ•ãƒ–ã‚­??
<a href="https://twitter.com/shirakamifubuki/status/2002006526890737786"></a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js"></script>
</div>

<div id="popup" class="popup">
    <div class="popup-content">
        <h2>ã‚¾ãƒ­ç›®é”æˆï¼</h2>
        <p id="popup-message"></p>
        <button onclick="closePopup()">OK</button>
    </div>
</div>

<script>
let rollCount=0,count5=0,count6=0,count7=0,count8=0,count9=0,lastZoro=0;
const history=[];

window.onload=rollDice;

function rollDice(){
    const c=document.getElementById("dice-container");
    c.innerHTML="";
    const rolls=[];
    for(let i=0;i<9;i++){
        const r=Math.floor(Math.random()*6)+1;
        rolls.push(r);
        const d=document.createElement("div");
        d.className="dice";
        d.textContent=r;
        c.appendChild(d);
    }

    const counts={};
    rolls.forEach(n=>counts[n]=(counts[n]||0)+1);
    const max=Math.max(...Object.values(counts));
    lastZoro=max;

    rolls.forEach((n,i)=>{
        if(counts[n]>=5) c.children[i].classList.add("highlight");
    });

    rollCount++;
    document.getElementById("roll-count").textContent=rollCount;

    let bg="";
    if(max===5){count5++;bg="#ffe4b5";}
    if(max===6){count6++;bg="#ff1493";}
    if(max===7){count7++;bg="#7b60f4";}
    if(max===8){count8++;bg="#7b60f4";}
    if(max===9){
        count9++;
        bg="linear-gradient(to right,#f59090,#fcd7a1,#fff9b1,#a5d4ad,#a3bce2,#a59aca,#cfa7cd)";
    }
    if(bg) document.body.style.background=bg;

    updateCounts();

    if(history.length>=10) history.shift();
    history.push({text: rolls.join(", "), hit: max>=5});

    document.getElementById("history-list").innerHTML =
        history.map(h=>`<li class="${h.hit?'hit':''}">${h.text}</li>`).join("");

    if(max>=5) showPopup(`${max}å€‹ã‚¾ãƒ­ç›®é”æˆï¼`);
}

function updateCounts(){
    document.getElementById("count-5").textContent=count5;
    document.getElementById("count-6").textContent=count6;
    document.getElementById("count-7").textContent=count7;
    document.getElementById("count-8").textContent=count8;
    document.getElementById("count-9").textContent=count9;
}

function resetStats(){
    rollCount=count5=count6=count7=count8=count9=0;
    updateCounts();
    document.getElementById("roll-count").textContent=0;
    document.body.style.background="radial-gradient(circle at top, #1b2a4a 0%, #0a0f1f 60%)";
}

function tweetResult(){
    const text=`ã‚µã‚¤ã‚³ãƒ­çµæœï¼${rollCount}å›ç›®ã«${lastZoro}å€‹ã‚¾ãƒ­ç›®é”æˆï¼ #ãƒ•ãƒ–ã•ã‚“ä¸¦èµ°\nhttps://syaotan35p.github.io/fubuki_dice9`;
    window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`);
}

function showPopup(msg){
    document.getElementById("popup-message").textContent=msg;
    document.getElementById("popup").style.display="flex";
}
function closePopup(){
    document.getElementById("popup").style.display="none";
}
</script>

</body>
</html>
