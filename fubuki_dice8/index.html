<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ã‚µã‚¤ã‚³ãƒ­8å€‹ã‚¾ãƒ­ç›®è€ä¹…ä¸¦èµ°</title>

<style>
/* ===== å…¨ä½“ ===== */
body {
    font-family: "Segoe UI","Hiragino Kaku Gothic ProN",Meiryo,sans-serif;
    margin: 0;
    padding: 20px;
    text-align: center;
    color: #eaf4ff;
    background: radial-gradient(circle at top, #1b2a4a 0%, #0a0f1f 60%);
    min-height: 100vh;
    transition: background 0.6s;
}

/* ===== ã‚¿ã‚¤ãƒˆãƒ« ===== */
h1 {
    font-size: 2.2rem; /* æ¨ªç”»é¢ç”¨ */
    margin-bottom: 24px;
    line-height: 1.2;
}
.neon-basic { color: #fff; text-shadow: 0 0 10px #00ffff,0 0 20px #00ffff; }

/* ===== ã‚¬ãƒ©ã‚¹å…±é€š ===== */
.panel {
    background: rgba(20,30,60,0.6);
    backdrop-filter: blur(8px);
    border-radius: 16px;
    padding: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.1);
}

/* ===== ä¸Šæ®µ æ¨ªä¸¦ã³ ===== */
.top-row {
    display: flex;
    justify-content: center;
    align-items: stretch;
    gap: 12px; /* ãƒ€ã‚¤ã‚¹ã¨statsã®é–“éš”ã‚’å°‘ã—ç¸®å° */
    max-width: 700px;
    margin: 0 auto 20px;
    flex-wrap: nowrap; /* ç¸¦ç”»é¢ã§ã‚‚å›ã‚Šè¾¼ã¾ãªã„ */
}

/* ===== ã‚µã‚¤ã‚³ãƒ­ ===== */
.dice-panel { flex: 0 0 auto; width: 260px; }
#dice-container {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* æ¨ª4Ã—ç¸¦2 */
    gap: 4px; /* ãƒ€ã‚¤ã‚¹é–“ã®ä½™ç™½ã‚’ç¸®å° */
    justify-items: center;
}

.dice {
    width: 52px;
    height: 52px;
    line-height: 52px;
    font-size: 2rem;
    font-weight: bold;
    border-radius: 10px;
    color: #eaf4ff;
    background: linear-gradient(145deg,#1e64c8,#0a3296);
    animation: roll 0.5s;
}

.highlight {
    background: linear-gradient(145deg,#ff4040,#c80000) !important;
    animation: glow 0.8s infinite alternate;
}

/* ===== stats ===== */
.stats-panel {
    flex: 0 0 auto;
    width: 180px;
    font-size: 0.95rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}
.stats-panel p { margin: 6px 0; font-weight: bold; }

/* ===== ãƒœã‚¿ãƒ³ ===== */
button {
    font-size: 1rem;
    padding: 10px 22px;
    margin: 8px;
    border-radius: 999px;
    border: none;
    color: #fff;
    background: linear-gradient(135deg,#4fc3f7,#7b60f4);
    cursor: pointer;
}

/* ===== å±¥æ­´ ===== */
.history-panel {
    max-width: 520px;
    margin: 20px auto;
}
.history-panel ul {
    list-style: none;
    padding: 0;
    margin: 0;
}
.history-panel li {
    font-family: monospace;
    font-weight: bold;
    color: #ffffff;
    text-align: center;
    margin-bottom: 6px;
}
.history-panel li.hit { color: #ff4040; }

/* ===== YouTube ===== */
.video-wrapper {
    max-width: 560px;
    aspect-ratio: 16/9;
    margin: 30px auto;
}
.video-wrapper iframe { width: 100%; height: 100%; border:0; }

/* ===== Twitter ===== */
.twitter-wrap { max-width: 560px; margin: 20px auto; }

/* ===== ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— ===== */
.popup { display: none; position: fixed; inset:0; background: rgba(0,0,0,0.6); justify-content:center; align-items:center; }
.popup-content { background:#0f1a33; padding:26px; border-radius:16px; }

/* ===== ã‚¢ãƒ‹ãƒ¡ ===== */
@keyframes roll { from {transform:rotate(0deg);} to {transform:rotate(720deg);} }
@keyframes glow { from {box-shadow:0 0 8px rgba(255,80,80,0.6);} to {box-shadow:0 0 18px rgba(255,200,200,1);} }

/* ===== ã‚¹ãƒãƒ›æ¨ªå¹…å…±é€š ===== */
@media (max-width: 480px) {
    .top-row { gap: 8px; }
    .dice-panel { width: 200px; }
    .stats-panel { width: 160px; font-size: 0.9rem; }
}

/* ===== ç¸¦ç”»é¢èª¿æ•´ ===== */
@media (orientation: portrait) and (max-width: 600px) {
    h1 { font-size: 1.8rem; } /* ã‚¿ã‚¤ãƒˆãƒ«ã‚’ç¸¦ç”»é¢ã§å°ã•ã */
    #dice-container { grid-template-columns: repeat(2,1fr); } /* æ¨ª2Ã—ç¸¦4 */
    .dice { width: 48px; height: 48px; line-height:48px; font-size:1.8rem; }
}
</style>
</head>

<body>
<h1 class="neon-basic">ğŸ²ãƒ•ãƒ–ã•ã‚“ã¨ã‚µã‚¤ã‚³ãƒ­8å€‹ã‚¾ãƒ­ç›®è€ä¹…ğŸ² v2025</h1>

<div class="top-row">
    <div class="panel dice-panel">
        <div id="dice-container"></div>
    </div>

    <div class="panel stats-panel">
        <p>æŒ¯ã£ãŸå›æ•°ï¼š<span id="roll-count">0</span></p>
        <p>5å€‹æƒã„ï¼š<span id="count-5">0</span></p>
        <p>6å€‹æƒã„ï¼š<span id="count-6">0</span></p>
        <p>7å€‹æƒã„ï¼š<span id="count-7">0</span></p>
        <p>8å€‹æƒã„ï¼š<span id="count-8">0</span></p>
    </div>
</div>

<button onclick="rollDice()">ã‚µã‚¤ã‚³ãƒ­8ã¤æŒ¯ã‚‹</button>
<button onclick="resetStats()">ãƒªã‚»ãƒƒãƒˆ</button>
<button onclick="tweetResult()">çµæœã‚’ãƒã‚¹ãƒˆ</button>

<div class="video-wrapper">
    <iframe src="https://www.youtube.com/embed/hHOgcYP8R20" allowfullscreen></iframe>
</div>

<div class="twitter-wrap">
<blockquote class="twitter-tweet">
<p lang="ja" dir="ltr">å¹´æœ«???</p>&mdash; ç™½ä¸Šãƒ•ãƒ–ã‚­??
<a href="https://twitter.com/shirakamifubuki/status/2002006526890737786"></a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js"></script>
</div>

<div class="panel history-panel">
    <h3>ğŸ²å±¥æ­´ï¼ˆç›´è¿‘10å›ï¼‰</h3>
    <ul id="history-list"></ul>
</div>

<div id="popup" class="popup">
    <div class="popup-content">
        <h2>ã‚¾ãƒ­ç›®é”æˆï¼</h2>
        <p id="popup-message"></p>
        <button onclick="closePopup()">OK</button>
    </div>
</div>

<script>
let rollCount=0,count5=0,count6=0,count7=0,count8=0,lastZoro=0;
const history=[];

window.onload=rollDice;

function rollDice(){
    const c=document.getElementById("dice-container");
    c.innerHTML="";
    const rolls=[];
    for(let i=0;i<8;i++){
        const r=Math.floor(Math.random()*6)+1;
        rolls.push(r);
        const d=document.createElement("div");
        d.className="dice";
        d.textContent=r;
        c.appendChild(d);
    }

    const counts={};
    rolls.forEach(n=>counts[n]=(counts[n]||0)+1);
    const max=Math.max(...Object.values(counts));
    lastZoro=max;

    rolls.forEach((n,i)=>{
        if(counts[n]>=5) c.children[i].classList.add("highlight");
    });

    rollCount++;
    rollCountEl().textContent=rollCount;

    let bg="";
    if(max===5){count5++;bg="#ffe4b5";}
    if(max===6){count6++;bg="#ff1493";}
    if(max===7){count7++;bg="#7b60f4";}
    if(max===8){
        count8++;
        bg="linear-gradient(to right,#f59090,#fcd7a1,#fff9b1,#a5d4ad,#a3bce2,#a59aca,#cfa7cd)";
    }
    if(bg) document.body.style.background=bg;

    updateCounts();

    if(history.length>=10) history.shift();
    history.push({text: rolls.join(", "), hit: max>=5});

    document.getElementById("history-list").innerHTML =
        history.map(h=>`<li class="${h.hit?'hit':''}">${h.text}</li>`).join("");

    if(max>=5) showPopup(`${max}å€‹ã‚¾ãƒ­ç›®é”æˆï¼`);
}

function rollCountEl(){ return document.getElementById("roll-count"); }
function updateCounts(){
    document.getElementById("count-5").textContent=count5;
    document.getElementById("count-6").textContent=count6;
    document.getElementById("count-7").textContent=count7;
    document.getElementById("count-8").textContent=count8;
}

function resetStats(){
    rollCount=count5=count6=count7=count8=0;
    updateCounts();
    rollCountEl().textContent=0;
    document.body.style.background="radial-gradient(circle at top, #1b2a4a 0%, #0a0f1f 60%)";
}

function tweetResult(){
    const text=`ã‚µã‚¤ã‚³ãƒ­çµæœï¼${rollCount}å›ç›®ã«${lastZoro}å€‹ã‚¾ãƒ­ç›®é”æˆï¼\n#ãƒ•ãƒ–ã•ã‚“ä¸¦èµ° https://syaotan35p.github.io/fubuki_dice8`;
    window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`);
}

function showPopup(msg){
    document.getElementById("popup-message").textContent=msg;
    document.getElementById("popup").style.display="flex";
}
function closePopup(){ document.getElementById("popup").style.display="none"; }
</script>

</body>
</html>
